{% extends "base.html" %}
{% block content %}
<div class="min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 dark:from-slate-900 dark:via-slate-950 dark:to-indigo-950">
  <div class="container mx-auto px-6 pt-24 pb-16">
    <div class="mb-10">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-200 text-xs font-semibold">
        Debug mode only
      </div>
      <h1 class="text-3xl font-bold mt-4 text-slate-900 dark:text-white">Debug Menu</h1>
      <p class="text-slate-600 dark:text-slate-300">Power tools for testing, resets, and quick actions.</p>
    </div>

    <div class="grid lg:grid-cols-2 gap-6">
      <div class="bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6">
        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Calendar sync</h2>
        <div class="grid sm:grid-cols-2 gap-3">
          <button class="px-4 py-2 rounded-full bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold" onclick="debugSyncNow()">Sync now</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugResetCalendarSelection()">Reset calendar selection</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearBusy()">Clear busy cache</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearAutoSync()">Clear auto-sync setting</button>
        </div>
      </div>

      <div class="bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6">
        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Theme & UI</h2>
        <div class="grid sm:grid-cols-2 gap-3">
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugSetTheme('light')">Force light theme</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugSetTheme('dark')">Force dark theme</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearTheme()">Clear theme preference</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugEnsureDemo()">Ensure demo group</button>
        </div>
      </div>

      <div class="bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6 lg:col-span-2">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4">
          <h2 class="text-lg font-semibold text-slate-900 dark:text-white">Group actions</h2>
          <div class="flex items-center gap-3">
            <select id="debugGroupSelect" class="rounded-full border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950 px-3 py-2 text-sm text-slate-700 dark:text-slate-100">
              {% if groups %}
                {% for g in groups %}
                  <option value="{{ g.id }}">{{ g.name }} ({{ g.join_code }})</option>
                {% endfor %}
              {% else %}
                <option value="">No groups</option>
              {% endif %}
            </select>
            <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugOpenGroup()">Open group</button>
          </div>
        </div>
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3">
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearSpecials()">Clear specials</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearProposals()">Clear proposals</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearInvites()">Clear invite links</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugLeaveGroup()">Leave group</button>
          <button class="px-4 py-2 rounded-full bg-red-600 hover:bg-red-700 text-white text-sm font-semibold" onclick="debugDeleteGroup()">Delete group (owner)</button>
        </div>
      </div>

      <div class="bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6 lg:col-span-2">
        <h2 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Data resets</h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3">
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearBusy()">Clear busy cache</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearSpecials()">Clear specials</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugClearProposals()">Clear proposals</button>
          <button class="px-4 py-2 rounded-full border border-gray-200 dark:border-slate-700 text-sm font-semibold text-slate-700 dark:text-slate-200" onclick="debugResetCalendarSelection()">Reset calendar selection</button>
          <button class="px-4 py-2 rounded-full bg-red-600 hover:bg-red-700 text-white text-sm font-semibold" onclick="debugClearAll()">Clear all my data</button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
